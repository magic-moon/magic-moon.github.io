<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Git Learning - Zhongkui Zhang | 张中魁</title>
    <meta property="og:title" content="Git Learning - Zhongkui Zhang | 张中魁">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="之前学习了git差不多又忘记了，所以今天再复习一下，然后做一下记录，我之前都是在廖雪峰的网站上学习的。而且发现git的命令已经改了，所以必须自己记录一下了。
里面介绍的非常详细，我这里只记录一下自己的学习。
[&amp;hellip;] 这是两个基本动作，在不出错的情况下，会这两个就够了。
工作区└── 版本库├── 暂存区└── 分支 我的理解是这样的，add把修改添加到暂存区，commit把修改 &amp;hellip;">
      <meta property="og:description" content="之前学习了git差不多又忘记了，所以今天再复习一下，然后做一下记录，我之前都是在廖雪峰的网站上学习的。而且发现git的命令已经改了，所以必须自己记录一下了。
里面介绍的非常详细，我这里只记录一下自己的学习。
[&amp;hellip;] 这是两个基本动作，在不出错的情况下，会这两个就够了。
工作区└── 版本库├── 暂存区└── 分支 我的理解是这样的，add把修改添加到暂存区，commit把修改 &amp;hellip;">
      
    

    
    
    
    <meta name="twitter:image" content="https://zhongkui.org/images/logo.png">
    
    

    

    
    


<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
<script async src="/js/load-typekit.js"></script>


<link rel="stylesheet" href="/css/custom.css" />
<script data-ad-client="ca-pub-6059946630511239" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?4ac5f9d4ee2aa5b67ab47a4c2ffc4978";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
  
  </head>

  
  <body class="cn">
    <header class="masthead">
      

<h1><a href="/"><img src="/images/logo.png" alt="“Zhongkui Zhang&#34;" /></a></h1>



      <nav class="menu">
  <ul>
  
  
  <li><a href="/">首页</a></li>
  
  <li><a href="/cn/about/">关于</a></li>
  
  <li><a href="/cn/">日志</a></li>
  
  <li><a href="/cn/vitae/">简历</a></li>
  
  <li><a href="/cn/recipe/">菜谱</a></li>
  
  <li><a href="https://ai.m.taobao.com/index.html?pid=mm_61414827_37826014_138212384">淘物</a></li>
  
  <li><a href="/en/">English</a></li>
  
  

<li class="menu-extra"></li>



<li><a href="https://github.com/magic-moon/bigzhang/edit/master/content/cn%5c2020-3-24-git-learning.md" target="_blank">编辑</a></li>


<li><a href="/cn/index.xml" type="application/rss+xml" title="RSS feed">订阅</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">版权</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>Git Learning</h1>


<h3>张中魁 / 
2020-03-24</h3>

<hr>


      </header>





<p>之前学习了git差不多又忘记了，所以今天再复习一下，然后做一下记录，我之前都是在<a href="https://www.liaoxuefeng.com/wiki/896043488029600/897889638509536">廖雪峰</a>的网站上学习的。而且发现git的命令已经改了，所以必须自己记录一下了。</p>
<p>里面介绍的非常详细，我这里只记录一下自己的学习。</p>
<h2 id="add与commit">add与commit</h2>
<p>这是两个基本动作，在不出错的情况下，会这两个就够了。</p>
<pre tabindex="0"><code>工作区
└── 版本库
    ├── 暂存区
    └── 分支
</code></pre><p>我的理解是这样的，add把修改添加到暂存区，commit把修改提交到分支。</p>
<p>一次成功是最好的结果，可是人生啊就是在不到的错误中前进的。因此修改重来是常用的事。</p>
<h2 id="修改与撤销">修改与撤销</h2>
<p>当没有提交到分支时：</p>
<p><code>git status</code>查看暂存区状态，</p>
<p><code>git diff  --&lt;file&gt;</code>，查看文件的修改情况</p>
<p><code>git diff</code>显示出了工作区与暂存区不同的所有修改。</p>
<p><code>git restore &lt;file&gt;...</code>来恢复，把暂存区的文件拿出来覆盖了工作区，慎用啊，不小心把自己写好的东西弄丢了就不好了。</p>
<p>添加是对暂存区进行覆盖，恢复是对工作区进行覆盖。</p>
<p><code>git rm &lt;file&gt;</code>删除暂存区的文件。</p>
<h2 id="版本回退">版本回退</h2>
<p>版本库记录了每一次提交，也记录了每一次的命令操作。</p>
<p><code>git log</code>查看提交日志，</p>
<p><code>git reflog</code>查看对版本库的每次命令操作。</p>
<p>有了这两个命令，就可以在不同版本里来回穿梭了。</p>
<p><code>git reset --hard HEAD</code>，来回退版本</p>
<p>在Git中，用HEAD表示当前版本，上一个版本就是HEAD^，上上一个版本就是HEAD^^，当然往上100个版本写100个^比较容易数不过来，所以写成HEAD~100。</p>
<p>这种方式只能不断的往前回退，不能去新的版本。</p>
<p>另外一种方式是使用版本号，就是那段非常长的数，每一个版本都有它唯一的编号。</p>
<pre tabindex="0"><code>$ git reset --hard 1094a
</code></pre><p>可以以此在不同版本间穿梭，那个号不用全写完，足够git找到就行。</p>
<p>回退版本就把工作区的文件覆盖了，所以回退操作前也要谨慎。</p>
<h2 id="git设置忽略排除和重新添加已经忽略的文件夹">git设置忽略排除和重新添加已经忽略的文件(夹)</h2>
<p>重新添加已经被忽略过的文件（夹）：</p>
<p>git rm -r &ndash;cached .</p>
<p>清空暂存区，再重新添加。</p>
<p>阿里技术<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>有一篇文章对概念解释的比较清楚，不过看不懂，看起来都头大</p>
<h2 id="添加远程仓库">添加远程仓库</h2>
<p>git的最大优势就是他的分支仓库</p>
<pre tabindex="0"><code>git remote add github git@github.com:magic-moon/bigzhang.git
</code></pre><p>关联后，使用命令<code>git push -u github master</code>第一次推送master分支的所有内容；</p>
<p>此后，每次本地提交后，只要有必要，就可以使用命令<code>git push github master</code>推送最新修改；</p>
<p><a href="https://www.aliyun.com/daily-act/ecs/activity_selection?userCode=1nkpq78k">阿里云服务器</a></p>
<h2 id="参考">参考:</h2>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://zhuanlan.zhihu.com/p/142289703">一文讲透 Git 底层数据结构和原理</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>



  <footer>
  
<nav class="post-nav">
  <span class="nav-prev"></span>
  <span class="nav-next"><a href="/cn/2020/03/lite-raspbereypi/">Lite版树莓派系统使用日志</a> &rarr;</span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
  } else if (e.which == 39) {  
    
    url = '\/cn\/2020\/03\/lite-raspbereypi\/';
    
  }
  if (url) window.location = url;
});
</script>



<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
    this.page.url = "https:\/\/bigzhang.org" + location.pathname;
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//bin1024.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var t = d.getElementById('disqus_thread');
    var b = false, l = function(scroll) {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
      if (scroll) t.scrollIntoView();
    }
    s.onerror = function(e) {
      if (sessionStorage.getItem('failure-note')) return;
      t.innerText = 'you cannot make comments because Disqus failed to load for some reason. It is known to be blocked in China. If you are sure it is not blocked in your region, please refresh the page.';
      t.style.border = '1px dashed';
      t.style.padding = '.5em';
      t.style.background = 'lightyellow';
      sessionStorage.setItem('failure-note', true);
    };
    
    if (location.hash.match(/^#comment-[0-9]+$/)) return l(true);
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>




<script async src="/js/fix-toc.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/math-code.js"></script>

<script async src="/js/external-link.js"></script>

<script async src="/js/alt-title.js"></script>

<script async src="/js/header-link.js"></script>



<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-170507543-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-170507543-1');
</script>


  



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/Python.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">© <a href="/">Zhongkui Zhang</a> 2019 - 2022</div>
  
  </footer>
  </article>
  
  </body>
</html>

