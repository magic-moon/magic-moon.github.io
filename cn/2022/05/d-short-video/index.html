<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>短视频去水印解析 - Zhongkui Zhang | 张中魁</title>
    <meta property="og:title" content="短视频去水印解析 - Zhongkui Zhang | 张中魁">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content=" if (!vidTest.canPlayType) {result = notSupport;} else {let oggTest = vidTest.canPlayType(&#39;video/ogg; codecs=&amp;quot;theora, vorbis&amp;quot;&#39;),h264Test = vidTest.canPlayType(&#39;video/mp4; &amp;hellip;">
      <meta property="og:description" content=" if (!vidTest.canPlayType) {result = notSupport;} else {let oggTest = vidTest.canPlayType(&#39;video/ogg; codecs=&amp;quot;theora, vorbis&amp;quot;&#39;),h264Test = vidTest.canPlayType(&#39;video/mp4; &amp;hellip;">
      
    

    
    
    
    <meta name="twitter:image" content="https://bigzhang.org/images/logo.png">
    
    

    

    
    


<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
<script async src="/js/load-typekit.js"></script>


<link rel="stylesheet" href="/css/custom.css" />
<script data-ad-client="ca-pub-6059946630511239" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?6332e79467bfcb7464208a68481446e8";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>
  
  </head>

  
  <body class="cn">
    <header class="masthead">
      

<h1><a href="/"><img src="/images/logo.png" alt="“Zhongkui Zhang&#34;" /></a></h1>



      <nav class="menu">
  <ul>
  
  
  <li><a href="/">首页</a></li>
  
  <li><a href="/cn/about/">关于</a></li>
  
  <li><a href="/cn/">日志</a></li>
  
  <li><a href="/cn/vitae/">简历</a></li>
  
  <li><a href="/cn/recipe/">菜谱</a></li>
  
  <li><a href="https://ai.m.taobao.com/index.html?pid=mm_61414827_37826014_138212384">淘物</a></li>
  
  <li><a href="/en/">English</a></li>
  
  

<li class="menu-extra"></li>



<li><a href="https://github.com/magic-moon/bigzhang/edit/master/content/cn%5c2022-5-29-dvideo.md" target="_blank">编辑</a></li>


<li><a href="/cn/index.xml" type="application/rss+xml" title="RSS feed">订阅</a></li>

<li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International">版权</a></li>


  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>短视频去水印解析</h1>


<h3>张中魁 / 
2022-05-29</h3>

<hr>


      </header>





<style>
    body {
        margin:25px;

    }
    h1,h2,p {
        color:rgba(160, 127, 19, 0.61);
    }
    p {
        color:red;
    }    
</style>
<h2 class="example">检测您的浏览器是否支持 HTML5 视频：</h2>
<script>
    function checkVideo() {
        let support = "非常棒！你的浏览器支持HTML5 video标签！",
        someSupport = "Meh. Some support.",
        notSupport = "Sorry. No video support.",
        vidTest = document.createElement("video"),
        result;
<pre><code>    if (!vidTest.canPlayType) {
        result = notSupport;
    } else {
        let oggTest = vidTest.canPlayType('video/ogg; codecs=&quot;theora, vorbis&quot;'),
        h264Test = vidTest.canPlayType('video/mp4; codecs=&quot;avc1.42E01E, mp4a.40.2&quot;');

        if (!oggTest) {
            if (!h264Test) {
                result = notSupport;
            } else {
                result = h264Test === &quot;probably&quot; ? support: someSupport;
            }
        } else {
            result = oggTest === &quot;probably&quot; ? support: someSupport;
        }
    }

    document.getElementById(&quot;checkVideoResult&quot;).innerHTML = result;
}
&lt;/script&gt;
</code></pre>
<div id="checkVideoResult">
    <button onclick="checkVideo()">检测</button>
</div>
<h2>输入视频链接来解析视频</h2>
<p>输入要用来解析的视频链接:</p>
<input id="id1" >
<button onclick="myFunction()" ant-click-animating-without-extra-node="false">解析</button>
<!--这里使用了https://apis.jxcxin.cn/doc/video.html创信云网络的api接口-->
<a></br><br></a>
<button onclick="playVid()" type="button">播放视频</button>
<button onclick="pauseVid()" type="button">暂停视频</button>
<button onclick="" type="button" >下载视频</button>
 <a></br><br></a>
<div>
    <video id="video1" controls="" loop="" autoplay="false" name="media"  width="200" >
<pre><code>&lt;/video&gt;
&lt;script&gt; 
    var myVideo=document.getElementById(&quot;video1&quot;); 
    
    function playVid()
    { 
      myVideo.play(); 
    } 
    
    function pauseVid()
    { 
      myVideo.pause(); 
    } 
&lt;/script&gt; 
</code></pre>
</div>
<h2>视频解析详细信息</h2>
<p>
视频作者: <span id="vauthor"></span><br /> 
视频标题: <span id="vtitle"></span><br /> 
视频点赞量: <span id="vlike"></span><br /> 
发表时间:<span id="vtime"></span><br /> 
</p>
<script> 
function myFunction() {
    var reg = /(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g;
    var intext = document.getElementById("id1").value;
    intext = intext.match(reg);
    var url = "https://apis.jxcxin.cn/api/video?url="+intext;
    // 01.创建XMLHttpRequest对象，该对象就是ajax对象
    let xhr = new XMLHttpRequest()
    // 02.初始化请求
    // 通过open()方法初始化请求，该方法的第一个参数是参请求方式，可选值包括：GET 和 POST
    // 该方法的第二个参数是请求地址：我们这里是请求一个本地的json文件
    xhr.open('GET',url)
    // 03.发送请求
    xhr.send()
    // 04.通过onreadystatechange事件，监听请求数据的状态
    xhr.onreadystatechange = function(){
                // JSON.parse()方法，用于将json格式的字符串转为js对象
                // responseText属性里面保存的就是后台返回的数据
                let stu = JSON.parse(xhr.responseText)
                var JSONObject = stu ;
                document.getElementById("vauthor").innerHTML=JSONObject.data.author
                document.getElementById("vlike").innerHTML=JSONObject.data.like
                document.getElementById("vtime").innerHTML=JSONObject.data.time
                document.getElementById("vtitle").innerHTML=JSONObject.data.title
                x = document.getElementById("video1") 
                y = JSONObject.data.url       
                x.src = y ;
    }
}
<p></script></p>



  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/cn/2020/07/dandelion/">蒲公草</a></span>
  <span class="nav-next"></span>
</nav>
<script type="text/javascript">
document.addEventListener('keyup', function(e) {
  if (e.target.nodeName.toUpperCase() != 'BODY') return;
  var url = false;
  if (e.which == 37) {  
    
    url = '\/cn\/2020\/07\/dandelion\/';
    
  } else if (e.which == 39) {  
    
  }
  if (url) window.location = url;
});
</script>



<section class="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
    this.page.url = "https:\/\/bigzhang.org" + location.pathname;
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var disqus_js = '//bin1024.disqus.com/embed.js';
    var d = document, s = d.createElement('script');
    s.src = disqus_js; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    var t = d.getElementById('disqus_thread');
    var b = false, l = function(scroll) {
      if (b) return;
      (d.head || d.body).appendChild(s); b = true;
      if (scroll) t.scrollIntoView();
    }
    s.onerror = function(e) {
      if (sessionStorage.getItem('failure-note')) return;
      t.innerText = 'you cannot make comments because Disqus failed to load for some reason. It is known to be blocked in China. If you are sure it is not blocked in your region, please refresh the page.';
      t.style.border = '1px dashed';
      t.style.padding = '.5em';
      t.style.background = 'lightyellow';
      sessionStorage.setItem('failure-note', true);
    };
    
    if (location.hash.match(/^#comment-[0-9]+$/)) return l(true);
    var c = function() {
      if (b) return;
      var rect = t.getBoundingClientRect();
      if (rect.top < window.innerHeight && rect.bottom >= 0) l();
    };
    window.addEventListener('load', c);
    d.addEventListener('scroll', c);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>




<script async src="/js/fix-toc.js"></script>

<script async src="/js/center-img.js"></script>

<script async src="/js/right-quote.js"></script>

<script async src="/js/no-highlight.js"></script>

<script async src="/js/fix-footnote.js"></script>

<script async src="/js/math-code.js"></script>

<script async src="/js/external-link.js"></script>

<script async src="/js/alt-title.js"></script>

<script async src="/js/header-link.js"></script>



<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-170507543-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-170507543-1');
</script>

  



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/Python.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/tex.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">© <a href="/">Zhongkui Zhang</a> 2019 - 2021</div>
  
  </footer>
  </article>
  
  </body>
</html>

